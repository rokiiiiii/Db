drop database if exists shoos1;
create database if not exists shoos1;
use shoos1;


create table shoeСategories(
categoryName varchar(50) primary key,
guaranteePeriod int,
careRules varchar(50),
imgPath varchar(50),
imgName varchar(10000),
dostyp bool
);

create table goods(
goodsName varchar(50) primary key,
categoryName varchar(50) references shoeCategories(categoryName) on update cascade on delete cascade,
producer varchar(50),
material varchar(50),
color varchar(50),
price int,
quantityInStock int,
dostyp bool
);

create table sales(
saleId int primary key NOT NULL AUTO_INCREMENT,
goodsName varchar(50) references goods(goodsName) on update cascade on delete cascade,
categoryName varchar(50) references shoeСategories(categoryName) on update cascade on delete cascade,
size int,
count int,
discount int,
saleDate datetime
);

insert into shoeСategories values
									('Кате1', '12', 'Правила1','Force.jpg','Force.jpg',1),
									( 'Категория2', '6', 'Правила2','Force.jpg','Force.jpg',1),
                                    ( 'Категория3', '0', 'Правила3','Force.jpg','Force.jpg',1);
select * from shoeСategories;
                                   
insert into goods values
						( 'Обувь1','Кате1',  'Производитель1', 'Материал1', 'Синий', '100', '10',1),
                        ( 'Обувь4', 'Категория2',  'Производитель4', 'Материал4', 'Белый', '100', '20',0),
                        ( 'Обувь3', 'Категория3',  'Производитель3', 'Материал3', 'Чёрный', '50', '201',1);
select * from goods;
                       
insert into sales(goodsName,categoryName,size,count,discount,saleDate) values
						(  'Обувь1','Кате1', '31', '1' , '10', '2022-04-12'),
						
                        ( 'Обувь3','Категория3', '40', '11' , '0', '2022-05-28');
					
select * from sales;
